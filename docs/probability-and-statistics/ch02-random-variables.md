## 第二章 随机事件及其概率分布

### 2.1 随机变量

随机试验是指在相同条件下可重复进行，且结果具有不确定性的试验。随机试验的所有可能结果构成的集合称为样本空间，通常用$\varOmega$表示，样本空间中的元素称为样本点，用$\omega$表示。

**随机变量**是定义在样本空间$\varOmega$上的实值函数，通常用大写字母$X$、$Y$、$Z$等表示。对于每个样本点$\omega \in \varOmega$，都有$X(ω)$一个实数与之对应，称为随机变量$X$在样本点$\omega$处的函数值。

随机变量建立了样本空间到实数集的映射，使得我们可以用数学方法研究随机现象。根据随机变量的取值情况，可以将随机变量分为离散型随机变量和连续型随机变量。

### 2.2 随机变量的分布函数

**分布函数**是描述随机变量概率分布的重要工具，对于随机变量$X$，其分布函数定义为：

$$
F(x) = P(X \leq x), \ \ x \in \mathbb{R}
$$
分布函数具有以下性质：

1. **单调非减性**：若$x_1 < x_2$，则$F(x_1) \leq F(x_2)$

2. **有界性**：$0 \leq F(x) \leq 1$，且$\lim_{x \to -\infty}F(x) = 0, \ \ \lim_{x \to +\infty}F(x) = 1$

3. **右连续性**：对于任意$x_0$，有：$\lim_{x \to x_0^+}F(x) = F(x_0)$

4. **概率计算**：对于任意$a < b$，有：

   $P(a < X \leq b) = F(b) - F(a)$

   $P(X = a) = F(a) - F(a^-)$

   其中$F(a^-)$表示$F(x)$在$x = a$处的左极限。

### 2.3 离散型随机变量

#### 2.3.1 离散型随机变量的分布律

**离散型随机变量**是指取值为有限个或可列无限个的随机变量。

**分布律**（又称概率函数）是描述离散型随机变量可能取值及其对应概率的表达式或表格，通常表示为：

$$P(X = x_i) = p_i, \ \ i = 1, 2, \cdots$$

其中$x_i$为随机变量$X$的可能取值，$p_i$为相应的概率。

判断一个数列$\{p_i\}$是否为分布律的依据：
1. 非负性：$p_i \geq 0, \ \ i = 1, 2, \cdots$
2. 规范性：$\sum_{i} p_i = 1$

#### 2.3.2 常见的离散型随机变量

##### 1. 0-1分布（两点分布）

若随机变量$X$只取0和1两个值，且$P(X=1)=p, P(X=0)=1-p, 0 \leq p \leq 1$，则称$X$服从参数为$p$的0-1分布或两点分布，记作$X \sim b(1,p)$。

##### 2. 二项分布

**伯努利试验**是只有两种可能结果的随机试验，这两种结果通常称为"成功"和"失败"，且各次试验相互独立，成功概率保持不变。

若随机变量$X$表示$n$次独立重复的伯努利试验中成功的次数，且每次试验成功的概率为$p$，则$X$服从参数为$(n,p)$的二项分布，记作$X \sim b(n,p)$，其分布律为：

$$
P(X = k) = C_n^k p^k (1-p)^{n-k}, \ \ k = 0, 1, 2, \cdots, n
$$
二项分布的性质：
- 期望：$E(X) = np$
- 方差：$D(X) = np(1-p)$
- 众数：
  1. 当$(n+1)p$为整数时，众数有两个：$(n+1)p-1$和$(n+1)p$，即$P(X = (n+1)p-1) = P(X = (n+1)p)$；
  2. 当$(n+1)p$不为整数时，众数为$\lfloor(n+1)p\rfloor$，即$P(X = \lfloor(n+1)p\rfloor) = \max\{C_n^k p^k (1-p)^{n-k}, k = 0,1,\ldots,n\}$。

##### 3. 泊松分布

若随机变量$X$的分布律为：

$$
P(X = k) = \dfrac{\lambda^k e^{-\lambda}}{k!}, \ \ k = 0, 1, 2, \cdots
$$
其中$\lambda > 0$为常数，则称$X$服从参数为$\lambda$的泊松分布，记作$X \sim P(\lambda)$。

**泊松定理**：当$n$很大、$p$很小且$np=\lambda$时，二项分布$B(n,p)$可以用泊松分布$P(\lambda)$近似：
$$
\lim_{n\to\infty} C_n^k p^k (1-p)^{n-k} = \dfrac{\lambda^k e^{-\lambda}}{k!}
$$

##### 4. 超几何分布

从含有$M$个物品的总体中，其中有$N$个具有某种特征，不放回地抽取$n$个物品，若随机变量$X$表示抽到的具有该特征的物品数，则$X$服从的超几何分布，记为$X\sim H(N,M,n)$，其分布律为：

$$
P(X = k) = \dfrac{C_N^k C_{M-N}^{n-k}}{C_M^n}, \ \ \max(0, n+N-M) \leq k \leq \min(n, N)
$$

##### 5. 几何分布

在伯努利试验序列中，若随机变量$X$表示首次成功所需的试验次数，且每次试验成功的概率为$p$，则$X$服从参数为$p$的几何分布，记为$X\sim G(p)$，其分布律为：

$$
P(X = k) = (1-p)^{k-1}p, \ \ k = 1, 2, \cdots
$$

##### 6. 负二项分布

在伯努利试验序列中，若随机变量$X$表示获得第$r$次成功时所需的试验总次数，且每次试验成功的概率为$p$，则$X$服从参数为$(r,p)$的负二项分布，记为$X\sim NB(r,p)$，其分布律为：

$$
P(X = k) = C_{k-1}^{r-1} p^r (1-p)^{k-r}, \ \ k = r, r+1, r+2, \cdots
$$

负二项分布的性质：
- 期望：$E(X) = \frac{r}{p}$
- 方差：$D(X) = \frac{r(1-p)}{p^2}$

特别地，当$r=1$时，负二项分布退化为几何分布。

### 2.4 连续型随机变量

#### 2.4.1 连续型随机变量的概念

**连续型随机变量**是指存在非负可积函数$f(x)$，使得对于任意实数$x$，有：

$$
F(x) = \int_{-\infty}^{x} f(t) dt
$$
其中$f(x)$称为随机变量$X$的概率密度函数（简称密度函数）。

概率密度函数具有以下性质：
1. 非负性：$f(x) \geq 0, \ \ x \in \mathbb{R}$
2. 规范性：$\begin{align*}\int_{-\infty}^{+\infty} f(x) dx = 1\end{align*}$
3. 概率计算：对于任意$a < b$，有$\begin{align*}P(a < X \leq b) = \int_a^b f(x) dx\end{align*}$
4. 对于连续型随机变量，$P(X = a) = 0$

#### 2.4.2 几个重要的连续型随机变量

##### 1. 均匀分布

若随机变量$X$的概率密度函数为：

$$f(x) = \begin{cases}
\dfrac{1}{b-a}, & a \leq x \leq b \\
0, & \text{其他}
\end{cases}$$

则称$X$服从区间$[a,b]$上的均匀分布，记作$X \sim U[a,b]$。

均匀分布的分布函数为：

$$F(x) = \begin{cases}
0, & x < a \\
\dfrac{x-a}{b-a}, & a \leq x < b \\
1, & x \geq b
\end{cases}$$

##### 2. 指数分布

若随机变量$X$的概率密度函数为：

$$f(x) = \begin{cases}
\lambda e^{-\lambda x}, & x > 0 \\
0, & x \leq 0
\end{cases}$$

其中$\lambda > 0$为常数，则称$X$服从参数为$\lambda$的指数分布，记作$X \sim Exp(\lambda)$。

指数分布的分布函数为：

$$F(x) = \begin{cases}
1 - e^{-\lambda x}, & x > 0 \\
0, & x \leq 0
\end{cases}$$

指数分布具有无记忆性：$P(X > s+t | X > s) = P(X > t)$

##### 3. 正态分布

若随机变量$X$的概率密度函数为：

$$
f(x) = \frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}}, \ \ x \in \mathbb{R}
$$
其中$\mu \in \mathbb{R}, \sigma > 0$为常数，则称$X$服从参数为$(\mu, \sigma^2)$的正态分布，记作$X \sim N(\mu, \sigma^2)$。

特别地，当$\mu = 0, \sigma = 1$时，称为标准正态分布，记作$Z \sim N(0,1)$。其概率密度函数为：

$$
\varphi(z) = \frac{1}{\sqrt{2\pi}}e^{-\frac{z^2}{2}}, \ \ z \in \mathbb{R}
$$
标准正态分布的分布函数记为$\varPhi(z)$，
$$
\varPhi=\dfrac{1}{\sqrt{2\pi}}\int_{-\infty}^x e^{-\frac{u^2}2}\mathrm du, \ \ x\in\mathbb{R}
$$
任何正态分布都可以通过线性变换转化为标准正态分布：若$X \sim N(\mu, \sigma^2)$，则$Z = \dfrac{X-\mu}{\sigma} \sim N(0,1)$。

### 2.5 随机变量函数的分布

当我们对随机变量进行函数变换后，新的随机变量的分布如何确定是一个重要问题。

#### 2.5.1 离散型随机变量函数的分布

设$X$是离散型随机变量，其分布律为$P(X = x_i) = p_i, i = 1,2,\cdots$，若$Y = g(X)$，则$Y$也是离散型随机变量，其分布律为：

$$
P(Y = y_j) = \sum_{g(x_i) = y_j} P(X = x_i)
$$

#### 2.5.2 连续型随机变量函数的分布

1. **分布函数法**：设随机变量$X$的分布函数为$F_X(x)$，$Y = g(X)$是$X$的函数，则$Y$的分布函数为：

   $$F_Y(y) = P(Y \leq y) = P(g(X) \leq y)$$

2. **密度函数法**：若$X$是连续型随机变量，概率密度为$f_X(x)$，且$Y = g(X)$满足：
   - $g(x)$严格单调可导
   - $g'(x) \neq 0$

   则$Y$的概率密度为：

   $$f_Y(y) = \begin{cases}
   f_X(g^{-1}(y)) \left| \frac{d}{dy}g^{-1}(y) \right|, & y \in g(\mathbb{R}) \\
   0, & \text{其他}
   \end{cases}$$

3. **变量变换法**：设$(X,Y)$是二维连续型随机变量，联合概率密度为$f(x,y)$。若变换$u = \varphi(x,y), v = \psi(x,y)$满足一定条件，则$(U,V)$的联合密度为：

   $$f_{U,V}(u,v) = f(x(u,v), y(u,v)) \left| J \right|$$

   其中$J$是雅可比行列式：

   $$J = \begin{vmatrix} \frac{\partial x}{\partial u} & \frac{\partial x}{\partial v} \\ \frac{\partial y}{\partial u} & \frac{\partial y}{\partial v} \end{vmatrix}$$